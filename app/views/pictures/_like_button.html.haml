- if user_signed_in?
  - voted = current_user.liked?(resource)
  .js-button-watch.button-toggler.like-button{ data: { voted: voted} }
    = link_to(unlike_picture_path, method: :post, class: 'button-red js-remote-link js-deactivate-button',
      data: { remote: true }) do
      = I18n.t('unlike')
      %span.active-count
        %span.counter
          = resource.likes_count
        %span.spinner-icon{style: 'display:none'}

    = link_to(like_picture_path, method: :post, class: 'button-blue js-remote-link js-activate-button',
      data: { remote: true }) do
      = I18n.t('like')
      %span.active-count
        %span.counter
          = resource.likes_count
        %span.spinner-icon{style: 'display:none'}

- else
  .js-button-watch.button-toggler.like-button
    = link_to(new_user_session_path, method: :post, class: 'button-blue js-remote-link js-activate-button') do
      = I18n.t('like')
    %span.active-count
      %span.counter
        = resource.likes_count
